// Esperar a que el DOM cargue
document.addEventListener('DOMContentLoaded', function () {

  // Formulario con validación Bootstrap 5
  const forms = document.querySelectorAll('.needs-validation');

  Array.from(forms).forEach(function(form) {
    form.addEventListener('submit', function(event) {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      } else {
        event.preventDefault(); // Evitar envío real
        showToast("¡Formulario enviado correctamente!");
        form.reset(); // Limpiar formulario
      }
      form.classList.add('was-validated');
    }, false);
  });

  // Función para mostrar Toast
  function showToast(message) {
    const toastEl = document.createElement('div');
    toastEl.className = 'toast align-items-center text-bg-success border-0';
    toastEl.role = 'alert';
    toastEl.ariaLive = 'assertive';
    toastEl.ariaAtomic = 'true';
    toastEl.innerHTML = `
      <div class="d-flex">
        <div class="toast-body">${message}</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    `;
    document.body.appendChild(toastEl);

    const bsToast = new bootstrap.Toast(toastEl, { delay: 3000 });
    bsToast.show();

    toastEl.addEventListener('hidden.bs.toast', () => {
      toastEl.remove();
    });
  }

});
